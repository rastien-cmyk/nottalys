---
layout: base.njk
metaTitle: NOTTALYS ‚Äì Chanson de mariage personnalis√©e
metaDesc: Transformez votre histoire d'amour en musique. NOTTALYS cr√©e des chansons de mariage personnalis√©es, uniques et intemporelles.
---

<!-- Header Desktop -->
<header class="hidden md:flex items-center justify-between py-8 px-6 max-w-[1400px] mx-auto">
    <div class="w-[175px]">
        <img src="/media/images/logo-nottalys.svg" alt="Nottalys logo" width="175" height="43" />
    </div>
</header>

<!-- Mobile Header avec Alpine.js -->
<div 
    x-data="{ mobileMenuOpen: false }" 
    class="md:hidden"
>
    <!-- Header mobile sticky -->
    <div class="sticky top-0 left-0 right-0 bg-white/70 backdrop-blur-xl px-6 py-4 flex items-center justify-between z-50 shadow-sm">
        <!-- Burger menu -->
        <button 
            @click="mobileMenuOpen = !mobileMenuOpen"
            class="flex flex-col gap-1.5 cursor-pointer z-50"
            aria-label="Toggle menu"
        >
            <span 
                class="w-7 h-0.5 bg-gray-900 transition-all duration-300 rounded"
                :class="{ 'rotate-45 translate-y-2': mobileMenuOpen }"
            ></span>
            <span 
                class="w-7 h-0.5 bg-gray-900 transition-all duration-300 rounded"
                :class="{ 'opacity-0': mobileMenuOpen }"
            ></span>
            <span 
                class="w-7 h-0.5 bg-gray-900 transition-all duration-300 rounded"
                :class="{ '-rotate-45 -translate-y-2': mobileMenuOpen }"
            ></span>
        </button>

        <!-- Logo centr√© -->
        <div class="absolute left-1/2 transform -translate-x-1/2">
            <a href="/#">
                <img src="/media/images/logo-nottalys.svg" alt="Nottalys logo" class="h-10" />
            </a>
        </div>
    </div>

    <!-- Menu Mobile overlay -->
    <div 
        x-show="mobileMenuOpen"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="fixed inset-0 bg-white z-40 pt-24 px-8"
        @click.away="mobileMenuOpen = false"
    >
        <ul class="flex flex-col gap-8">
            <li><a href="#pourquoi" @click="mobileMenuOpen = false" class="text-3xl font-serif font-light text-gray-900">Pourquoi</a></li>
            <li><a href="#process" @click="mobileMenuOpen = false" class="text-3xl font-serif font-light text-gray-900">Comment √ßa marche</a></li>
            <li><a href="#exemples" @click="mobileMenuOpen = false" class="text-3xl font-serif font-light text-gray-900">√âcouter</a></li>
            <li><a href="#commencer" @click="mobileMenuOpen = false" class="text-3xl font-serif font-light text-gray-900">Commencer</a></li>
        </ul>
    </div>
</div>

<!-- Navigation Desktop Glassmorphism -->
<nav class="hidden md:block fixed top-6 left-1/2 transform -translate-x-1/2 z-50">
    <div class="nav-glass">
        <ul class="flex items-center gap-8">
            <li><a href="#pourquoi" class="text-sm font-sans text-gray-900 hover:opacity-70 transition-opacity">Pourquoi</a></li>
            <li><a href="#process" class="text-sm font-sans text-gray-900 hover:opacity-70 transition-opacity">Comment √ßa marche</a></li>
            <li><a href="#exemples" class="text-sm font-sans text-gray-900 hover:opacity-70 transition-opacity">√âcouter</a></li>
            <li><a href="#commencer" class="text-sm font-sans text-gray-900 hover:opacity-70 transition-opacity">Commencer</a></li>
        </ul>
    </div>
</nav>

<main>
    <!-- Hero Section -->
    <section class="hero-overlay text-center py-20 md:py-32 px-6" style="background-image: url(/media/images/hero.webp);">

        <div class="container-nottalys">
            <h1 class="mb-6 animate-fade-in-up">
                Votre histoire,<br>mise en musique
            </h1>
            <p class="text-sm md:text-base text-gray-600 mb-8 font-sans animate-fade-in-up-delay-1">
                Une chanson unique, cr√©√©e pour votre union.<br>Un souvenir qui r√©sonnera pour toujours.
            </p>
            <a href="#commencer" class="btn btn-primary animate-fade-in-up-delay-2">
                Commencer notre chanson ‚Üó
            </a>
        </div>
    </section>

 <!-- Stats Bar avec animations Lottie -->
    <div class="flex flex-col md:flex-row justify-around items-center gap-6 md:gap-0 py-12 md:py-16 px-6 text-xs md:text-sm text-gray-500 font-sans"
  x-data="lottieCycleController(
    ['icon1', 'icon2', 'icon3'],
    [
      '/media/animations/pen.json',
      '/media/animations/histoire.json',
      '/media/animations/vinyl.json'
    ],
    {
      delayBetween: 0,
      loopDelay: 5000
    }
  )"
  x-init="init()"
    >
        <!-- Point 1 : 100% personnalis√©e - Crayon -->
        <div class="flex flex-col items-center gap-2 animate-on-scroll"
        >
            <div x-ref="icon1" class="w-16 h-16"></div>
            <div>100 % personnalis√©e</div>
        </div>

        <!-- Point 2 : Cr√©√©e √† partir de votre histoire - Livre -->
        <div class="flex flex-col items-center gap-2 animate-on-scroll">
            <div x-ref="icon2" class="w-16 h-16"></div>
            <div>Cr√©√©e √† partir de votre histoire</div>
        </div>

        <!-- Point 3 : Un souvenir qui dure - Vinyle -->
        <div class="flex flex-col items-center gap-2 animate-on-scroll">
            <div x-ref="icon3" class="w-16 h-16"></div>
            <div>Un souvenir qui dure</div>
        </div>
    </div>


    <!-- Feature Section: Pourquoi -->
    <section id="pourquoi" class="py-16 md:py-24 px-6 section-animate">
        <div class="container-nottalys">
            <div class="grid md:grid-cols-2 gap-12 md:gap-16 items-start">
                <!-- Image sticky sur desktop -->
                <div class="md:sticky md:top-32 h-[300px] md:h-[600px]">
                    <img 
                        src="/media/images/casque.webp" 
                        alt="Casque audio √©voquant la composition d'une chanson de mariage sur mesure" 
                        class="w-full h-full object-cover rounded-[10px] hover:scale-105 transition-transform duration-500"
                        loading="lazy"
                    >
                </div>

                <!-- Contenu avec "Voir plus" sur mobile -->
                <div 
                    x-data="{ expanded: false }"
                    class="space-y-8 font-sans"
                >
                    <div>
                        <h2 class="mb-6 leading-tight section-animate">Une musique de mariage vraiment personnalis√©e</h2>

                        <!-- Paragraphes toujours visibles (‚âà 300 caract√®res) -->
                        <p class="text-gray-600 mb-4  animate-fade-in-up">
                            Chaque histoire d'amour poss√®de son propre rythme, ses √©motions, ses instants fondateurs. 
                            Chez NOTTALYS, nous cr√©ons des chansons de mariage personnalis√©es √† partir de votre r√©cit, 
                            de votre rencontre, de vos souvenirs et de ce qui fait la singularit√© de votre union.
                        </p>
                        <p class="text-gray-600" :class="{ 'mb-4': expanded || window.innerWidth >= 768 }">
                            Contrairement aux musiques g√©n√©riques, votre chanson est compos√©e exclusivement pour vous. 
                            Elle ne sera jamais r√©utilis√©e, ni adapt√©e √† un autre couple.
                        </p>

                        <!-- Contenu cach√© sur mobile jusqu'au clic "Voir plus" -->
                        <div 
                            x-show="expanded || window.innerWidth >= 768"
                            x-transition:enter="transition ease-out duration-300"
                            x-transition:enter-start="opacity-0 -translate-y-2"
                            x-transition:enter-end="opacity-100 translate-y-0"
                            class="space-y-4"
                        >
                            <p class="text-gray-600">
                                C'est une ≈ìuvre unique, pens√©e pour refl√©ter votre lien et accompagner l'un des moments 
                                les plus importants de votre vie.
                            </p>
                        </div>

                        <!-- Bouton "Voir plus" (mobile uniquement) -->
                        <button
                            @click="expanded = !expanded"
                            class="md:hidden mt-3 text-nottalys-purple text-sm font-medium hover:underline focus:outline-none"
                            x-show="!expanded"
                        >
                            Voir plus
                        </button>
                    </div>

                    <!-- Sections suivantes : cach√©es sur mobile si non expanded -->
                    <div 
                        x-show="expanded || window.innerWidth >= 768"
                        x-transition:enter="transition ease-out duration-300"
                        x-transition:enter-start="opacity-0 -translate-y-2"
                        x-transition:enter-end="opacity-100 translate-y-0"
                        class="space-y-8"
                    >
                        <div>
                            <h3 class="text-xl md:text-2xl mb-4 font-serif">Un souvenir musical pour votre union</h3>
                            <p class="text-gray-600 mb-4">
                                Votre musique NOTTALYS n'est pas seulement destin√©e au jour du mariage. 
                                Elle devient un souvenir musical intemporel, √† √©couter, √† partager, et √† r√©√©couter au fil des ann√©es.
                            </p>
                            <p class="text-gray-600">
                                Premi√®re danse, c√©r√©monie, moment intime ou simple √©coute √† deux : votre chanson s'inscrit 
                                dans le temps et garde intacte l'√©motion de votre union.
                            </p>
                        </div>

                        <div>
                            <h3 class="text-xl md:text-2xl mb-4 font-serif">Comment na√Æt votre chanson NOTTALYS</h3>
                            <p class="text-gray-600 mb-4">
                                Tout commence par votre histoire. √Ä travers quelques questions, vous partagez les moments cl√©s 
                                de votre relation, vos √©motions, vos inspirations et l'univers musical qui vous ressemble.
                            </p>
                            <p class="text-gray-600 mb-4">
                                √Ä partir de ces √©l√©ments, nous composons une musique de mariage sur mesure, guid√©e par la sensibilit√© 
                                artistique et soutenue par l'intelligence artificielle, pour capturer l'essence de votre couple.
                            </p>
                            <p class="text-gray-600">
                                Le r√©sultat : une chanson sinc√®re, √©l√©gante et profond√©ment personnelle ‚Äì la bande-son de votre union.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Steps Section -->

    <section id="process" class="py-16 md:py-24 px-6 section-animate">
      <div class="container-nottalys">
        <h2 class="text-center mb-16">Trois √©tapes vers votre chanson</h2>

        <div x-data="stepsScroll()" x-init="init()" class="relative">

          <!-- Gradient gauche (mobile only) -->
          <div x-show="hasLeft"
               class="md:hidden fixed left-0 top-0 h-full w-8 pointer-events-none z-10
                      bg-gradient-to-r from-white via-white/80 to-transparent
                      transition-opacity duration-300"
               :class="{ 'opacity-0': !hasLeft, 'opacity-100': hasLeft }">
          </div>

          <!-- Gradient droite (mobile only) -->
          <div x-show="hasRight"
               class="md:hidden fixed right-0 top-0 h-full w-8 pointer-events-none z-10
                      bg-gradient-to-l from-white via-white/80 to-transparent
                      transition-opacity duration-300"
               :class="{ 'opacity-0': !hasRight, 'opacity-100': hasRight }">
          </div>

          <div x-ref="container" @scroll.passive="updateGradients()" class="steps-scroll">

            <div class="text-left step-card">
              <div class="step-number mb-6">01</div>
              <h3 class="mb-3">Vous nous racontez votre histoire</h3>
              <p class="text-xs md:text-sm text-gray-500">
                Quelques mots suffisent. Un souvenir, une √©motion, une ambiance, une intention‚Ä¶
                Vous nous partagez ce qui compte pour vous, sans contrainte ni vocabulaire technique.
              </p>
            </div>

            <div class="text-left step-card">
              <div class="step-number mb-6">02</div>
              <h3 class="mb-3">Une premi√®re cr√©ation prend forme</h3>
              <p class="text-xs md:text-sm text-gray-500">
                √Ä partir de votre r√©cit, nous utilisons des outils de cr√©ation musicale assist√©e
                par intelligence artificielle pour donner naissance √† une premi√®re base sur-mesure.
              </p>
            </div>

            <div class="text-left step-card">
              <div class="step-number mb-6">03</div>
              <h3 class="mb-3">La musique √©volue avec vous</h3>
              <p class="text-xs md:text-sm text-gray-500">
                Rythme, √©motion, intensit√©‚Ä¶ Chaque d√©tail est ajust√© jusqu'√† ce que la musique vous ressemble vraiment.
              </p>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- Couples Section -->
    <section class="py-16 md:py-24  px-6 section-animate">
        <div class="container-nottalys">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="mb-8">Pour les couples<br>qui...</h2>
                    <ul class="space-y-4 font-sans">
                        <li class="flex items-center gap-4 py-4 border-b border-gray-200 whitespace-nowrap">
                            <span class="text-gray-400 text-lg font-medium">01</span>
                            <span class="text-sm">veulent marquer leur mariage autrement</span>
                        </li>
                        <li class="flex items-center gap-4 py-4 border-b border-gray-200 whitespace-nowrap">
                            <span class="text-gray-400 text-lg font-medium">02</span>
                            <span class="text-sm">cherchent un souvenir qui dure dans le temps</span>
                        </li>
                        <li class="flex items-center gap-4 py-4 border-b border-gray-200 whitespace-nowrap">
                            <span class="text-gray-400 text-lg font-medium">03</span>
                            <span class="text-sm">aiment les id√©es simples, vraies et personnelles</span>
                        </li>
                    </ul>
                </div>
                <img 
                    src="/media/images/couples.webp" 
                    alt="Mains de deux personnes entrelac√©es" 
                    class="w-full h-[300px] md:h-[400px] object-cover rounded-[10px]"
                    loading="lazy"
                >
            </div>
        </div>
    </section>

    {% include "audio-player.njk" %}
    {% include "quote-section.njk" %}
    {% include "contact-form.njk" %}

</main>



<!-- ============================================
     Alpine.js Steps Scroll
============================================ -->
<script>
function stepsScroll() {
  return {
    hasLeft: false,
    hasRight: true, // Initial : gradient droite visible

    init() {
      // V√©rifier imm√©diatement apr√®s le rendu
      this.$nextTick(() => {
        this.updateGradients();
      });

      // Re-check apr√®s un petit d√©lai
      setTimeout(() => {
        this.updateGradients();
      }, 200);

      // V√©rifier au resize
      window.addEventListener('resize', () => {
        if (window.innerWidth < 768) {
          this.updateGradients();
        }
      });
    },

    updateGradients() {
      const el = this.$refs.container;
      if (!el) return;

      const scrollLeft = Math.round(el.scrollLeft);
      const maxScroll = el.scrollWidth - el.clientWidth;

      // Gradient gauche : visible si on a scroll√© de plus de 5px
      this.hasLeft = scrollLeft > 5;

      // Gradient droite : visible s'il reste plus de 5px √† scroller
      this.hasRight = scrollLeft < maxScroll - 5;

      // Debug (√† retirer en production)
      console.log('Scroll:', { scrollLeft, maxScroll, hasLeft: this.hasLeft, hasRight: this.hasRight });
    }
  };
}


// Animation Lottie avec contr√¥le du cycle
function lottieCycleController(refNames, paths, options = {}) {
  return {
    animations: [],
    currentIndex: 0,
    hasStarted: false,
    animationsLoaded: false,
    settings: {
      delayBetween: options.delayBetween || 0,
      loopDelay: options.loopDelay || 500,
      threshold: options.threshold || 0.5
    },
    init() {
      if (typeof lottie === "undefined") {
        const script = document.createElement("script");
        script.src = "https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js";
        script.onload = () => this.initAnimations();
        document.head.appendChild(script);
      } else {
        this.initAnimations();
      }
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting && !this.hasStarted) {
            this.startCycle();
            this.hasStarted = true;
          }
        });
      }, { threshold: this.settings.threshold });
      observer.observe(this.$el);
    },
    initAnimations() {
      if (this.animationsLoaded) return; // üîí verrou
      this.animationsLoaded = true;
      refNames.forEach((ref, index) => {
        const container = this.$refs[ref];
        // üî• IMPORTANT : vider le container avant Lottie
        container.innerHTML = "";
        const anim = lottie.loadAnimation({
          container: container,
          renderer: "svg",
          loop: false,
          autoplay: false,
          path: paths[index]
        });
        anim.addEventListener("complete", () => {
          setTimeout(() => this.playNext(), this.settings.delayBetween);
        });
        this.animations.push(anim);
      });
    },
    startCycle() {
      this.playCurrent();
    },
    playCurrent() {
      const anim = this.animations[this.currentIndex];
      if (!anim) return;
      anim.goToAndPlay(0, true);
    },
    playNext() {
      this.currentIndex++;
      if (this.currentIndex >= this.animations.length) {
        this.currentIndex = 0;
        setTimeout(() => this.playCurrent(), this.settings.loopDelay);
      } else {
        this.playCurrent();
      }
    },
    destroy() {
      this.animations.forEach(anim => anim.destroy());
    }
  };
}
</script>