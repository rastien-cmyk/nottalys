---
layout: base.njk
metaTitle: NOTTALYS – Chanson de mariage personnalisée
metaDesc: Transformez votre histoire d'amour en musique. NOTTALYS crée des chansons de mariage personnalisées, uniques et intemporelles.
---

<!-- Header Desktop -->
<header class="hidden md:flex items-center justify-between py-8 px-6 max-w-[1400px] mx-auto">
    <div class="w-[175px]">
        <img src="/media/images/logo-nottalys.svg" alt="Nottalys logo" width="175" height="43" />
    </div>
</header>

<!-- Mobile Header avec Alpine.js -->
<div 
    x-data="{ mobileMenuOpen: false }" 
    class="md:hidden"
>
    <!-- Header mobile sticky -->
    <div class="sticky top-0 left-0 right-0 bg-white/70 backdrop-blur-xl px-6 py-4 flex items-center justify-between z-50 shadow-sm">
        <!-- Burger menu -->
        <button 
            @click="mobileMenuOpen = !mobileMenuOpen"
            class="flex flex-col gap-1.5 cursor-pointer z-50"
            aria-label="Toggle menu"
        >
            <span 
                class="w-7 h-0.5 bg-gray-900 transition-all duration-300 rounded"
                :class="{ 'rotate-45 translate-y-2': mobileMenuOpen }"
            ></span>
            <span 
                class="w-7 h-0.5 bg-gray-900 transition-all duration-300 rounded"
                :class="{ 'opacity-0': mobileMenuOpen }"
            ></span>
            <span 
                class="w-7 h-0.5 bg-gray-900 transition-all duration-300 rounded"
                :class="{ '-rotate-45 -translate-y-2': mobileMenuOpen }"
            ></span>
        </button>

        <!-- Logo centré -->
        <div class="absolute left-1/2 transform -translate-x-1/2">
            <a href="/#">
                <img src="/media/images/logo-nottalys.svg" alt="Nottalys logo" class="h-10" />
            </a>
        </div>
    </div>

    <!-- Menu Mobile overlay -->
    <div 
        x-show="mobileMenuOpen"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="fixed inset-0 bg-white z-40 pt-24 px-8"
        @click.away="mobileMenuOpen = false"
    >
        <ul class="flex flex-col gap-8">
            <li><a href="#pourquoi" @click="mobileMenuOpen = false" class="text-3xl font-serif font-light text-gray-900">Pourquoi</a></li>
            <li><a href="#process" @click="mobileMenuOpen = false" class="text-3xl font-serif font-light text-gray-900">Comment ça marche</a></li>
            <li><a href="#exemples" @click="mobileMenuOpen = false" class="text-3xl font-serif font-light text-gray-900">Écouter</a></li>
            <li><a href="#commencer" @click="mobileMenuOpen = false" class="text-3xl font-serif font-light text-gray-900">Commencer</a></li>
        </ul>
    </div>
</div>

<!-- Navigation Desktop Glassmorphism -->
<nav class="hidden md:block fixed top-6 left-1/2 transform -translate-x-1/2 z-50">
    <div class="nav-glass">
        <ul class="flex items-center gap-8">
            <li><a href="#pourquoi" class="text-sm font-sans text-gray-900 hover:opacity-70 transition-opacity">Pourquoi</a></li>
            <li><a href="#process" class="text-sm font-sans text-gray-900 hover:opacity-70 transition-opacity">Comment ça marche</a></li>
            <li><a href="#exemples" class="text-sm font-sans text-gray-900 hover:opacity-70 transition-opacity">Écouter</a></li>
            <li><a href="#commencer" class="text-sm font-sans text-gray-900 hover:opacity-70 transition-opacity">Commencer</a></li>
        </ul>
    </div>
</nav>

<main>
    <!-- Hero Section -->
    <section class="hero-overlay text-center py-20 md:py-32 px-6" style="background-image: url(/media/images/hero.webp);">

        <div class="container-nottalys">
            <h1 class="mb-6 animate-fade-in-up">
                Votre histoire,<br>mise en musique
            </h1>
            <p class="text-sm md:text-base text-gray-600 mb-8 font-sans animate-fade-in-up-delay-1">
                Une chanson unique, créée pour votre union.<br>Un souvenir qui résonnera pour toujours.
            </p>
            <a href="#commencer" class="btn btn-primary animate-fade-in-up-delay-2">
                Commencer notre chanson ↗
            </a>
        </div>
    </section>

    <!-- Stats Bar -->
    <div class="flex flex-col md:flex-row justify-around items-center gap-6 md:gap-0 py-12 md:py-16 px-6 text-xs md:text-sm text-gray-500 font-sans">
        <div>100 % personnalisée</div>
        <div>Créée à partir de votre histoire</div>
        <div>Un souvenir qui dure</div>
    </div>

    <!-- Feature Section: Pourquoi -->
    <section id="pourquoi" class="py-16 md:py-24 px-6 section-animate">
        <div class="container-nottalys">
            <div class="grid md:grid-cols-2 gap-12 md:gap-16 items-start">
                <!-- Image sticky sur desktop -->
                <div class="md:sticky md:top-32 h-[300px] md:h-[600px]">
                    <img 
                        src="/media/images/casque.webp" 
                        alt="Casque audio évoquant la composition d'une chanson de mariage sur mesure" 
                        class="w-full h-full object-cover rounded-[10px] hover:scale-105 transition-transform duration-500"
                        loading="lazy"
                    >
                </div>

                <!-- Contenu avec "Voir plus" sur mobile -->
                <div 
                    x-data="{ expanded: false }"
                    class="space-y-8 font-sans"
                >
                    <div>
                        <h2 class="mb-6 leading-tight section-animate">Une musique de mariage vraiment personnalisée</h2>
                        
                        <!-- Paragraphes toujours visibles (≈ 300 caractères) -->
                        <p class="text-gray-600 mb-4  animate-fade-in-up">
                            Chaque histoire d'amour possède son propre rythme, ses émotions, ses instants fondateurs. 
                            Chez NOTTALYS, nous créons des chansons de mariage personnalisées à partir de votre récit, 
                            de votre rencontre, de vos souvenirs et de ce qui fait la singularité de votre union.
                        </p>
                        <p class="text-gray-600" :class="{ 'mb-4': expanded || window.innerWidth >= 768 }">
                            Contrairement aux musiques génériques, votre chanson est composée exclusivement pour vous. 
                            Elle ne sera jamais réutilisée, ni adaptée à un autre couple.
                        </p>
                        
                        <!-- Contenu caché sur mobile jusqu'au clic "Voir plus" -->
                        <div 
                            x-show="expanded || window.innerWidth >= 768"
                            x-transition:enter="transition ease-out duration-300"
                            x-transition:enter-start="opacity-0 -translate-y-2"
                            x-transition:enter-end="opacity-100 translate-y-0"
                            class="space-y-4"
                        >
                            <p class="text-gray-600">
                                C'est une œuvre unique, pensée pour refléter votre lien et accompagner l'un des moments 
                                les plus importants de votre vie.
                            </p>
                        </div>
                        
                        <!-- Bouton "Voir plus" (mobile uniquement) -->
                        <button
                            @click="expanded = !expanded"
                            class="md:hidden mt-3 text-nottalys-purple text-sm font-medium hover:underline focus:outline-none"
                            x-show="!expanded"
                        >
                            Voir plus
                        </button>
                    </div>
                    
                    <!-- Sections suivantes : cachées sur mobile si non expanded -->
                    <div 
                        x-show="expanded || window.innerWidth >= 768"
                        x-transition:enter="transition ease-out duration-300"
                        x-transition:enter-start="opacity-0 -translate-y-2"
                        x-transition:enter-end="opacity-100 translate-y-0"
                        class="space-y-8"
                    >
                        <div>
                            <h3 class="text-xl md:text-2xl mb-4 font-serif">Un souvenir musical pour votre union</h3>
                            <p class="text-gray-600 mb-4">
                                Votre musique NOTTALYS n'est pas seulement destinée au jour du mariage. 
                                Elle devient un souvenir musical intemporel, à écouter, à partager, et à réécouter au fil des années.
                            </p>
                            <p class="text-gray-600">
                                Première danse, cérémonie, moment intime ou simple écoute à deux : votre chanson s'inscrit 
                                dans le temps et garde intacte l'émotion de votre union.
                            </p>
                        </div>
                        
                        <div>
                            <h3 class="text-xl md:text-2xl mb-4 font-serif">Comment naît votre chanson NOTTALYS</h3>
                            <p class="text-gray-600 mb-4">
                                Tout commence par votre histoire. À travers quelques questions, vous partagez les moments clés 
                                de votre relation, vos émotions, vos inspirations et l'univers musical qui vous ressemble.
                            </p>
                            <p class="text-gray-600 mb-4">
                                À partir de ces éléments, nous composons une musique de mariage sur mesure, guidée par la sensibilité 
                                artistique et soutenue par l'intelligence artificielle, pour capturer l'essence de votre couple.
                            </p>
                            <p class="text-gray-600">
                                Le résultat : une chanson sincère, élégante et profondément personnelle – la bande-son de votre union.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Steps Section -->

    <section id="process" class="py-16 md:py-24 px-6 section-animate">
      <div class="container-nottalys">
        <h2 class="text-center mb-16">Trois étapes vers votre chanson</h2>

        <div x-data="stepsScroll()" x-init="init()" class="relative">
          
          <!-- Gradient gauche (mobile only) -->
          <div x-show="hasLeft"
               class="md:hidden fixed left-0 top-0 h-full w-8 pointer-events-none z-10
                      bg-gradient-to-r from-white via-white/80 to-transparent
                      transition-opacity duration-300"
               :class="{ 'opacity-0': !hasLeft, 'opacity-100': hasLeft }">
          </div>

          <!-- Gradient droite (mobile only) -->
          <div x-show="hasRight"
               class="md:hidden fixed right-0 top-0 h-full w-8 pointer-events-none z-10
                      bg-gradient-to-l from-white via-white/80 to-transparent
                      transition-opacity duration-300"
               :class="{ 'opacity-0': !hasRight, 'opacity-100': hasRight }">
          </div>

          <div x-ref="container" @scroll.passive="updateGradients()" class="steps-scroll">

            <div class="text-left step-card">
              <div class="step-number mb-6">01</div>
              <h3 class="mb-3">Vous nous racontez votre histoire</h3>
              <p class="text-xs md:text-sm text-gray-500">
                Quelques mots suffisent. Un souvenir, une émotion, une ambiance, une intention…
                Vous nous partagez ce qui compte pour vous, sans contrainte ni vocabulaire technique.
              </p>
            </div>

            <div class="text-left step-card">
              <div class="step-number mb-6">02</div>
              <h3 class="mb-3">Une première création prend forme</h3>
              <p class="text-xs md:text-sm text-gray-500">
                À partir de votre récit, nous utilisons des outils de création musicale assistée
                par intelligence artificielle pour donner naissance à une première base sur-mesure.
              </p>
            </div>

            <div class="text-left step-card">
              <div class="step-number mb-6">03</div>
              <h3 class="mb-3">La musique évolue avec vous</h3>
              <p class="text-xs md:text-sm text-gray-500">
                Rythme, émotion, intensité… Chaque détail est ajusté jusqu'à ce que la musique vous ressemble vraiment.
              </p>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- Couples Section -->
    <section class="py-16 md:py-24  px-6 section-animate">
        <div class="container-nottalys">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="mb-8">Pour les couples<br>qui...</h2>
                    <ul class="space-y-4 font-sans">
                        <li class="flex items-center gap-4 py-4 border-b border-gray-200 whitespace-nowrap">
                            <span class="text-gray-400 text-lg font-medium">01</span>
                            <span class="text-sm">veulent marquer leur mariage autrement</span>
                        </li>
                        <li class="flex items-center gap-4 py-4 border-b border-gray-200 whitespace-nowrap">
                            <span class="text-gray-400 text-lg font-medium">02</span>
                            <span class="text-sm">cherchent un souvenir qui dure dans le temps</span>
                        </li>
                        <li class="flex items-center gap-4 py-4 border-b border-gray-200 whitespace-nowrap">
                            <span class="text-gray-400 text-lg font-medium">03</span>
                            <span class="text-sm">aiment les idées simples, vraies et personnelles</span>
                        </li>
                    </ul>
                </div>
                <img 
                    src="/media/images/couples.webp" 
                    alt="Mains de deux personnes entrelacées" 
                    class="w-full h-[300px] md:h-[400px] object-cover rounded-[10px]"
                    loading="lazy"
                >
            </div>
        </div>
    </section>

    {% include "audio-player.njk" %}
    {% include "quote-section.njk" %}
    {% include "contact-form.njk" %}

</main>



<!-- ============================================
     Alpine.js Steps Scroll
============================================ -->
<script>
function stepsScroll() {
  return {
    hasLeft: false,
    hasRight: true, // Initial : gradient droite visible

    init() {
      // Vérifier immédiatement après le rendu
      this.$nextTick(() => {
        this.updateGradients();
      });

      // Re-check après un petit délai
      setTimeout(() => {
        this.updateGradients();
      }, 200);

      // Vérifier au resize
      window.addEventListener('resize', () => {
        if (window.innerWidth < 768) {
          this.updateGradients();
        }
      });
    },

    updateGradients() {
      const el = this.$refs.container;
      if (!el) return;

      const scrollLeft = Math.round(el.scrollLeft);
      const maxScroll = el.scrollWidth - el.clientWidth;

      // Gradient gauche : visible si on a scrollé de plus de 5px
      this.hasLeft = scrollLeft > 5;

      // Gradient droite : visible s'il reste plus de 5px à scroller
      this.hasRight = scrollLeft < maxScroll - 5;

      // Debug (à retirer en production)
      console.log('Scroll:', { scrollLeft, maxScroll, hasLeft: this.hasLeft, hasRight: this.hasRight });
    }
  };
}
</script>
